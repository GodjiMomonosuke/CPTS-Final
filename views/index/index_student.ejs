<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }
        td {
            text-align: center;
            background-color: #ffffff;
            width: 100px;
        }
        th {
            padding: 10px;
            background-color: #f1f1f1;
            width: 250px;
        }
        h1,h4 {
            color: black;
        }
        table {
            width: 100%;
        }
        .pre {
            background-color: #b8ffc5;
        }
        .post {
            background-color: #ffd7b8;
        }
        @media (min-width: 768px) {
            .bd-placeholder-img-lg {font-size: 3.5rem;}
            html {height: 100%;}
        }
        #bg {
            position: fixed;
            width: 100%;
            height: 95%;
            opacity: 0.6;
        }
        .Character {
            width: 28rem;
            height: 36rem;
            background-color: #f1f1f1;
            border-radius: 0.5rem;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .Character img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        /* Character text styles */
        .Character p {
            margin: 5px 0;
            font-size: 1.2rem; /* Increased font size */
        }

        .Character p:first-of-type {
            font-size: 1.5rem; /* Larger font size for character type */
            font-weight: bold;
        }

        .group2 {
            display: flex;
            justify-content: space-between;
            gap: 40px; /* Increased gap between character and chart */
            margin: 20px 0;
        }

        /* Chart container styles */
        .chart {
            margin-left: auto; /* Push chart to the right */
            padding-right: 20px; /* Add some padding on the right */
        }

        .chartCard {
            width: 340px; /* Slightly increased width */
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
        }

        .chartBox {
            padding: 20px;
            border-radius: 10px;
            background-color: #ffffff37;
            border: solid #fff;
        }

        .group {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            width: 100%;
        }
    </style>

    <link rel='stylesheet' href='stylesheets/home1.css' />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.min.js" 
        integrity="sha512-L0Shl7nXXzIlBSUUPpxrokqq4ojqgZFQczTYlGjzONGTDAcLremjwaWv5A+EDLnxhQzY5xUZPWLOLqYRkY0Cbw==" 
        crossorigin="anonymous" referrerpolicy="no-referrer">
    </script>

    <title>HOME</title>
</head>

<body class="quantico-regular" style=" background-color: #cad19f;">
    
    <!-- Narbar-->
    <%- include('../layouts/navbar') %>
    
    <!-- end of Narbar-->
<!-- LEFT -->
    <main>
        <br><br>
        <div id="content" class="container"><br>
            <div class="group">
                <div class="item1" style="border-radius: 5px;">
                    <% if (Object.keys(result).length != 0) { %>
                    <p>Course name : <%= result[0].Course %></p>  
                    <p>Class : <%= result[0].Section %> </p>
                            <button type="button" class="btn btn-outline-dark btn-sm" data-bs-toggle="modal" data-bs-target="#Classjoin" style="background-color: #ffffff;">
                                <svg width="17.5" height="20" style="font-size: 20px;;align-items: center;" viewBox="0 0 448 512">
                                <path d="M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"/>
                                </svg><b> Change Class</b>
                            </button>
                    <br>
                    <br>
                    <p>ติดต่ออาจารย์ผู้สอน : <a href="mailto:result[0].teacher"> <%= result[0].teacher%></a></p>
                    <% } else{ %>  
                        <b>คลิกเพื่อเข้าร่วม Class</b><br>
                            <button type="button" class="btn btn-outline-dark btn-sm" data-bs-toggle="modal" data-bs-target="#Classjoin" style="background-color: #ffffff;" >
                                <svg width="17.5" height="20" style="font-size: 20px;;align-items: center;" viewBox="0 0 448 512">
                                <path d="M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"/>
                                </svg><b> Join Class</b>
                            </button>
                            
                    <% } %>
                    
                </div>    

                <div class="item1" style="width: auto;">
                    <svg height="20" width="20" viewBox="0 0 512 512">
                        <path d="M505.2 324.8l-47.73-68.78l47.75-68.81c7.359-10.62 8.797-24.12 3.844-36.06c-4.969-11.94-15.52-20.44-28.22-22.72l-82.39-14.88l-14.89-82.41c-2.281-12.72-10.76-23.25-22.69-28.22c-11.97-4.936-25.42-3.498-36.12 3.844L256 54.49L187.2 6.709C176.5-.6016 163.1-2.039 151.1 2.896c-11.92 4.971-20.4 15.5-22.7 28.19l-14.89 82.44L31.15 128.4C18.42 130.7 7.854 139.2 2.9 151.2C-2.051 163.1-.5996 176.6 6.775 187.2l47.73 68.78l-47.75 68.81c-7.359 10.62-8.795 24.12-3.844 36.06c4.969 11.94 15.52 20.44 28.22 22.72l82.39 14.88l14.89 82.41c2.297 12.72 10.78 23.25 22.7 28.22c11.95 4.906 25.44 3.531 36.09-3.844L256 457.5l68.83 47.78C331.3 509.7 338.8 512 346.3 512c4.906 0 9.859-.9687 14.56-2.906c11.92-4.969 20.4-15.5 22.7-28.19l14.89-82.44l82.37-14.88c12.73-2.281 23.3-10.78 28.25-22.75C514.1 348.9 512.6 335.4 505.2 324.8zM456.8 339.2l-99.61 18l-18 99.63L256 399.1L172.8 456.8l-18-99.63l-99.61-18L112.9 255.1L55.23 172.8l99.61-18l18-99.63L256 112.9l83.15-57.75l18.02 99.66l99.61 18L399.1 255.1L456.8 339.2zM256 143.1c-61.85 0-111.1 50.14-111.1 111.1c0 61.85 50.15 111.1 111.1 111.1s111.1-50.14 111.1-111.1C367.1 194.1 317.8 143.1 256 143.1zM256 319.1c-35.28 0-63.99-28.71-63.99-63.99S220.7 192 256 192s63.99 28.71 63.99 63.1S291.3 319.1 256 319.1z"/>
                    </svg><b> Recommend</b>

                    <% if (Object.keys(RecommendaResult).length !== 0 && RecommendaResult[0].RecommendCourse != "null" ) { %> <%# ถ้าเลือกวิธีแนะนำแล้ว %> 
                        <br>
                        <!-- การแนะนำแบบ <%= RecommendaResult[0].RecommendationType %> <%# วิธีแนะนำคือ %>  <br> -->
                        <br>
                            
                        <% if (TicketBooking_SystemPercent === 100 && PointofSales_SystemPercent === 100 && ProjectQUIZ3Percent === 100 ) { %> <%# ถ้า Path ครบแล้ว %> 
                            <p class="chakra-petch-regular">คุณได้เรียนครบแล้ว!</p>
                        <% } else { %>
                            <div class="row">
                                <% if(RecommendaResult[0].RecommendCourse === "Algorithms and Flowcharts"){ %> <%# Output จาก Recommend มาเทียบ %> 
                                <div class="col-6">
                                    <h4>บทที่ 1 Algorithms and Flowcharts</h4>
                                    <button onclick="window.location.href='/course'" type="button" class="btn btn-outline-dark btn-sm btn-block mb-2"> <i class="fa fa-paper-plane" style="font-size:16px"></i> Algorithms and Flowcharts</button>
                                </div>
                                <% }else if(RecommendaResult[0].RecommendCourse === "Datatype and Variable"){ %>
                                    <div class="col-6">
                                        <h4>บทที่ 2 Datatype and Variable</h4>
                                        <button onclick="window.location.href='/course'" type="button" class="btn btn-outline-dark btn-sm btn-block mb-2"> <i class="fa fa-paper-plane" style="font-size:16px"></i> Datatype and Variable</button>
                                    </div>
                                <% }else if(RecommendaResult[0].RecommendCourse === "Input and Output"){ %>
                                    <div class="col-6">
                                        <h4>บทที่ 3 Input and Output</h4>
                                        <button onclick="window.location.href='/course'" type="button" class="btn btn-outline-dark btn-sm btn-block mb-2"> <i class="fa fa-paper-plane" style="font-size:16px"></i> Input and Output</button>
                                    </div>
                                <% }else if(RecommendaResult[0].RecommendCourse === "Operators and Expressions"){ %>
                                    <div class="col-6">
                                        <h4>บทที่ 4 Operators and Expressions</h4>
                                        <button onclick="window.location.href='/course'" type="button" class="btn btn-outline-dark btn-sm btn-block mb-2"> <i class="fa fa-paper-plane" style="font-size:16px"></i> Operators and Expressions</button>
                                    </div>
                                <% }else if(RecommendaResult[0].RecommendCourse === "Selection Statements"){ %>
                                    <div class="col-6">
                                        <h4>บทที่ 5 Selection Statements</h4>
                                        <button onclick="window.location.href='/course'" type="button" class="btn btn-outline-dark btn-sm btn-block mb-2"> <i class="fa fa-paper-plane" style="font-size:16px"></i> Selection Statement</button>
                                    </div>
                                <% }else if(RecommendaResult[0].RecommendCourse === "Loop Statements"){ %>
                                    <div class="col-6">
                                        <h4>บทที่ 6 Loop Statements</h4>
                                        <button onclick="window.location.href='/course'" type="button" class="btn btn-outline-dark btn-sm btn-block mb-2"> <i class="fa fa-paper-plane" style="font-size:16px"></i> Loop Statement</button>
                                    </div>
                                <% }else if(RecommendaResult[0].RecommendCourse === "Arrays and Strings"){ %>
                                    <div class="col-6">
                                        <h4>บทที่ 7 Arrays and Strings</h4>
                                        <button onclick="window.location.href='/course'" type="button" class="btn btn-outline-dark btn-sm btn-block mb-2"> <i class="fa fa-paper-plane" style="font-size:16px"></i> Array and String</button>
                                    </div>
                                <% }else if(RecommendaResult[0].RecommendCourse === "Functions"){ %>
                                    <div class="col-6">
                                        <h4>บทที่ 8 Functions</h4>
                                        <button onclick="window.location.href='/course'" type="button" class="btn btn-outline-dark btn-sm btn-block mb-2"> <i class="fa fa-paper-plane" style="font-size:16px"></i> Function</button>
                                    </div>
                                <% } else{ %>  <%# ถ้าไม่มีการแนะนำ คือ เรียนตาม path ที่เลือกเรียบร้อยแล้ว%> 
                                    <h6>Finished</h6>
                                    <div class="w-100"></div>
                                    <div class="col-6">Next</div>
                                <% } %>    
                                    <div class="col-auto">
                                        <button type="button" class="btn btn-outline-dark btn-sm btn-block " data-bs-toggle="modal" data-bs-target="#RecommendSetting"><i class="fa fa-flag" style="font-size: 16px;;align-items: center;" ></i></button>
                                    </div>
                                </div>
                            <% } %>
                    <% } else{ %> 
                            <button type="button" class="btn btn-outline-dark btn-sm" data-bs-toggle="modal" data-bs-target="#RecommendSetting">
                                <svg height="20" width="20" viewBox="0 0 512 512">
                                    <path d="M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"/></svg>
                                    <b> Choose</b>
                            </button>
                         <% } %>  
                 </div>	 
                 
            </div>
                
            <!-- MID -->
                <!-- SKILLS-->
                <br>
                
                <div class="group">
                    <div>
                        <div class="boxbax">
                            <div><!-- Lab Progress Pre-test-->
                                <p style="margin: 0;">Lab Progress (Pre-test)</p>
                                <% if (Pretest === 0) { %>
                                    <div style="display: flex;">
                                        <p class="station_w">1</p>
                                        <p class="station_w">2</p>
                                        <p class="station_w">3</p>
                                        <p class="station_w">4</p>
                                        <p class="station_w">5</p>
                                        <p class="station_w">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Pretest === 1) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station_w">2</p>
                                        <p class="station_w">3</p>
                                        <p class="station_w">4</p>
                                        <p class="station_w">5</p>
                                        <p class="station_w">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Pretest === 2) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station_w">3</p>
                                        <p class="station_w">4</p>
                                        <p class="station_w">5</p>
                                        <p class="station_w">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Pretest === 3) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station">3</p>
                                        <p class="station_w">4</p>
                                        <p class="station_w">5</p>
                                        <p class="station_w">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Pretest === 4) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station">3</p>
                                        <p class="station">4</p>
                                        <p class="station_w">5</p>
                                        <p class="station_w">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Pretest === 5) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station">3</p>
                                        <p class="station">4</p>
                                        <p class="station">5</p>
                                        <p class="station_w">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Pretest === 6) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station">3</p>
                                        <p class="station">4</p>
                                        <p class="station">5</p>
                                        <p class="station">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Pretest === 7) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station">3</p>
                                        <p class="station">4</p>
                                        <p class="station">5</p>
                                        <p class="station">6</p>
                                        <p class="station">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Pretest === 8) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station">3</p>
                                        <p class="station">4</p>
                                        <p class="station">5</p>
                                        <p class="station">6</p>
                                        <p class="station">7</p>
                                        <p class="station">8</p>
                                    </div>
                                <% }%>
                            </div>
                            <div><!-- Lab Progress Post-test-->
                                <p style="margin: 0;">Lab Progress (Post-test)</p>
                                <% if (Posttest === 0) { %>
                                    <div style="display: flex;">
                                        <p class="station_w">1</p>
                                        <p class="station_w">2</p>
                                        <p class="station_w">3</p>
                                        <p class="station_w">4</p>
                                        <p class="station_w">5</p>
                                        <p class="station_w">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Posttest === 1) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station_w">2</p>
                                        <p class="station_w">3</p>
                                        <p class="station_w">4</p>
                                        <p class="station_w">5</p>
                                        <p class="station_w">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Posttest === 2) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station_w">3</p>
                                        <p class="station_w">4</p>
                                        <p class="station_w">5</p>
                                        <p class="station_w">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Posttest === 3) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station">3</p>
                                        <p class="station_w">4</p>
                                        <p class="station_w">5</p>
                                        <p class="station_w">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Posttest === 4) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station">3</p>
                                        <p class="station">4</p>
                                        <p class="station_w">5</p>
                                        <p class="station_w">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Posttest === 5) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station">3</p>
                                        <p class="station">4</p>
                                        <p class="station">5</p>
                                        <p class="station_w">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Posttest === 6) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station">3</p>
                                        <p class="station">4</p>
                                        <p class="station">5</p>
                                        <p class="station">6</p>
                                        <p class="station_w">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Posttest === 7) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station">3</p>
                                        <p class="station">4</p>
                                        <p class="station">5</p>
                                        <p class="station">6</p>
                                        <p class="station">7</p>
                                        <p class="station_w">8</p>
                                    </div>
                                <% }%>
                                <% if (Posttest === 8) { %>
                                    <div style="display: flex;">
                                        <p class="station">1</p>
                                        <p class="station">2</p>
                                        <p class="station">3</p>
                                        <p class="station">4</p>
                                        <p class="station">5</p>
                                        <p class="station">6</p>
                                        <p class="station">7</p>
                                        <p class="station">8</p>
                                    </div>
                                <% }%>
                            </div>

                            <hr>
                            <% if (TicketBooking_SystemPercent === 50) { %>
                                <p style="margin: 0;">Project Quiz 1 ปลดล็อกแล้ว!</p>
                            <% }%>
                            <% if (TicketBooking_SystemPercent === 75) { %>
                                <p style="margin: 0;">Project Quiz 2 ปลดล็อกแล้ว!</p>
                            <% }%>
                            <% if (TicketBooking_SystemPercent === 100) { %>
                                <p style="margin: 0;">Project Quiz 3 ปลดล็อกแล้ว!</p>
                            <% }%>
                            <p style="margin: 0;">คลิก<a href="/project"> Project </a>เพื่อดูเพิ่มเติม</p> <br>

                            <p style="margin: 3px;">คะแนน Project Quiz</p>
                            <div style="margin-left: 15px;">
                                <div class="col" style="display: flex;">
                                    <div class="card-body">
                                        <h5 class="card-title">Quiz 1</h5>
                                        <div class="pie animate" style="--p:<%= Quiz1Score %>;--c:#bd7b67; font-size: 14px;"> <%= PrjQuiz1Score %></div>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Quiz 2</h5>
                                        <div class="pie animate" style="--p:<%= Quiz2Score %>;--c:#bd7b67; font-size: 14px;"> <%= PrjQuiz2Score %></div>
                                    </div>
                                    <div class="card-body"> 
                                        <h5 class="card-title">Quiz 3</h5>
                                        <div class="pie animate" style="--p:<%= Quiz3Score %>;--c:#bd7b67; font-size: 14px;"> <%= PrjQuiz3Score %></div>
                                    </div>
                                </div>
                            </div>
                        </div><br>
                    </div>
                    <div  class="group2"> <!-- Charater & Chart -->
                        <div class="character-box"><!-- Character -->
                            <h4 class="chakra-petch-regular">Character</h4>  
                            <div class="Character" style="position: relative; padding: 10px; min-height: 300px; display: flex; flex-direction: column; justify-content: center;">
                                <% 
                                try {
                                    // DEBUG MODE - เปลี่ยนเป็น true เพื่อแสดงรายละเอียดการคำนวณ
                                    const DEBUG_MODE = false;
                                    
                                    /**
                                     * ฟังก์ชันสำหรับตรวจสอบและจำกัดค่าให้อยู่ในช่วงที่กำหนด
                                     * @param {number|any} value - ค่าที่ต้องการตรวจสอบ
                                     * @param {number} min - ค่าต่ำสุดที่อนุญาต
                                     * @param {number} max - ค่าสูงสุดที่อนุญาต
                                     * @return {number} - ค่าที่ถูกต้องในช่วงที่กำหนด หรือ NaN ถ้าค่าไม่ถูกต้อง
                                     */
                                    function validateScore(value, min, max) {
                                        if (typeof value !== 'number' || isNaN(value)) {
                                            return NaN;
                                        }
                                        return Math.max(min, Math.min(max, value));
                                    }
                                    
                                    // ตรวจสอบและแปลงคะแนนดิบ
                                    // ตามที่ระบุไว้ไม่ต้องแก้ไขในส่วนของค่า NaN จึงยังคงใช้ isNaN ตามเดิม
                                    const originalBasic = BasicPercent;
                                    const originalTrace = TracePercent;
                                    const originalExplain = ExplainPercent;
                                    const originalWrite = WritePercent;
                                    
                                    const isBasicNaN = typeof originalBasic !== 'number' || isNaN(originalBasic);
                                    const isTraceNaN = typeof originalTrace !== 'number' || isNaN(originalTrace);
                                    const isExplainNaN = typeof originalExplain !== 'number' || isNaN(originalExplain);
                                    const isWriteNaN = typeof originalWrite !== 'number' || isNaN(originalWrite);
                                    
                                    // คะแนนสำหรับแต่ละด้าน - จำกัดไม่ให้ต่ำกว่า 0
                                    // ใช้ validateScore เพื่อให้มั่นใจว่าคะแนนอยู่ในช่วงที่ถูกต้อง
                                    const maxKnowledgeScore = 40;
                                    const maxTracingScore = 40;
                                    const maxExplainingScore = 40;
                                    const maxWritingScore = 200;
                                    
                                    let basicScore = isBasicNaN ? 0 : validateScore(originalBasic, 0, maxKnowledgeScore);
                                    let traceScore = isTraceNaN ? 0 : validateScore(originalTrace, 0, maxTracingScore);
                                    let explainScore = isExplainNaN ? 0 : validateScore(originalExplain, 0, maxExplainingScore);
                                    let writeScore = isWriteNaN ? 0 : validateScore(originalWrite, 0, maxWritingScore);
                                    
                                    // คำนวณคะแนน Writing ที่ถูกต้อง - ปรับเป็นคะแนนเทียบจาก 200 เป็น 40
                                    const adjustedWriteScore = !isWriteNaN ? (writeScore / maxWritingScore) * 40 : 0;
                                    
                                    /**
                                     * คำนวณคะแนนรวมจากทุกด้าน
                                     * @return {Object} - วัตถุที่มีคะแนนรวมและเงื่อนไขต่างๆ
                                     */
                                    function calculateTotalScore() {
                                        // คำนวณคะแนนรวม
                                        const totalScore = basicScore + traceScore + explainScore + adjustedWriteScore;
                                        const displayTotalScore = Math.round(totalScore);
                                        
                                        // คะแนนเต็มและเกณฑ์สำหรับ Rookie และ King
                                        const maxDisplayScore = 160; // คะแนนเต็ม (40 x 4)
                                        const rookieThreshold = 0.2 * maxDisplayScore; // 32
                                        const kingThreshold = 0.8 * maxDisplayScore; // 128
                                        
                                        // จำนวนคะแนนที่มีค่า (ไม่เป็น NaN)
                                        const validScoreCount = 
                                            (isBasicNaN ? 0 : 1) + 
                                            (isTraceNaN ? 0 : 1) + 
                                            (isExplainNaN ? 0 : 1) + 
                                            (isWriteNaN ? 0 : 1);
                                        
                                        // ตรวจสอบว่าทุกด้านมีคะแนนน้อยกว่า 20% หรือไม่
                                        const rookieBasicThreshold = 0.2 * maxKnowledgeScore; // 8
                                        const rookieTraceThreshold = 0.2 * maxTracingScore; // 8
                                        const rookieExplainThreshold = 0.2 * maxExplainingScore; // 8
                                        const rookieWriteThreshold = 0.2 * maxWritingScore; // 40
                                        
                                        const isAllBelowRookieThreshold = 
                                            (isBasicNaN || basicScore < rookieBasicThreshold) && 
                                            (isTraceNaN || traceScore < rookieTraceThreshold) && 
                                            (isExplainNaN || explainScore < rookieExplainThreshold) && 
                                            (isWriteNaN || writeScore < rookieWriteThreshold);
                                        
                                        return {
                                            totalScore,
                                            displayTotalScore,
                                            maxDisplayScore,
                                            rookieThreshold,
                                            kingThreshold,
                                            validScoreCount,
                                            isAllBelowRookieThreshold
                                        };
                                    }
                                    
                                    /**
                                     * ตรวจสอบจำนวนคะแนนที่เท่ากันและมีค่าสูงสุด
                                     * @return {Object} - ข้อมูลเกี่ยวกับคะแนนสูงสุด
                                     */
                                    function analyzeHighestScores() {
                                        // คำนวณเปอร์เซ็นต์ของแต่ละด้าน
                                        const percentScores = [];
                                        
                                        if (!isBasicNaN) {
                                            percentScores.push({ 
                                                type: 'basic', 
                                                label: 'Knowledge',
                                                value: basicScore / maxKnowledgeScore,
                                                roundedValue: Math.round((basicScore / maxKnowledgeScore) * 1000) / 1000
                                            });
                                        }
                                        
                                        if (!isTraceNaN) {
                                            percentScores.push({ 
                                                type: 'trace', 
                                                label: 'Tracing',
                                                value: traceScore / maxTracingScore,
                                                roundedValue: Math.round((traceScore / maxTracingScore) * 1000) / 1000
                                            });
                                        }
                                        
                                        if (!isExplainNaN) {
                                            percentScores.push({ 
                                                type: 'explain', 
                                                label: 'Explaining',
                                                value: explainScore / maxExplainingScore,
                                                roundedValue: Math.round((explainScore / maxExplainingScore) * 1000) / 1000
                                            });
                                        }
                                        
                                        if (!isWriteNaN) {
                                            percentScores.push({ 
                                                type: 'write', 
                                                label: 'Writing',
                                                value: writeScore / maxWritingScore,
                                                roundedValue: Math.round((writeScore / maxWritingScore) * 1000) / 1000
                                            });
                                        }
                                        
                                        // เรียงลำดับคะแนนจากมากไปน้อย
                                        percentScores.sort((a, b) => b.roundedValue - a.roundedValue);
                                        
                                        // ถ้าไม่มีคะแนนใดๆ
                                        if (percentScores.length === 0) {
                                            return {
                                                highestScore: null,
                                                tiedHighestCount: 0,
                                                percentScores: []
                                            };
                                        }
                                        
                                        const highestScore = percentScores[0];
                                        
                                        // นับจำนวนคะแนนที่เท่ากับคะแนนสูงสุด (ใช้ค่าที่ปัดเศษแล้ว)
                                        // ใช้ความแม่นยำ 3 ตำแหน่งเพื่อหลีกเลี่ยงปัญหาทศนิยมที่ไม่แน่นอน
                                        const tiedHighestCount = percentScores.filter(
                                            score => score.roundedValue === highestScore.roundedValue
                                        ).length;
                                        
                                        return {
                                            highestScore,
                                            tiedHighestCount,
                                            percentScores
                                        };
                                    }
                                    
                                    /**
                                     * กำหนดตัวละครตามคะแนนและเงื่อนไข
                                     * @return {Object} - ข้อมูลตัวละคร
                                     */
                                    function determineCharacter() {
                                        const score = calculateTotalScore();
                                        const highestScoreData = analyzeHighestScores();
                                        
                                        // ตัวแปรเก็บข้อมูลตัวละคร
                                        let characterName = "";
                                        let imageNumber = "";
                                        let altText = "";
                                        
                                        // เริ่มตรวจสอบเงื่อนไขจากกรณีพิเศษเพื่อลดความซับซ้อน
                                        
                                        // กรณี 1: ถ้าไม่มีคะแนนใดๆ หรือทุกคะแนนเป็น NaN
                                        if (score.validScoreCount === 0) {
                                            characterName = "Rookie";
                                            imageNumber = "5";
                                            altText = "Rookie - No Valid Scores";
                                        }
                                        // กรณี 2: ถ้าคะแนนสูงมาก (80% ขึ้นไป) ให้เป็น KING
                                        else if (score.displayTotalScore >= score.kingThreshold) { 
                                            characterName = "KING";
                                            imageNumber = "6";
                                            altText = "KING - High Score";
                                        }
                                        // กรณี 3: ถ้าคะแนนต่ำมาก (ทุกด้านต่ำกว่า 20% หรือคะแนนรวมต่ำกว่า 20%)
                                        else if (score.isAllBelowRookieThreshold || score.displayTotalScore < score.rookieThreshold) {
                                            characterName = "Rookie";
                                            imageNumber = "5";
                                            altText = "Rookie - Low Score";
                                        }
                                        // กรณี 4: ถ้ามีคะแนนสูงสุดเท่ากัน 3-4 ด้าน
                                        else if (highestScoreData.tiedHighestCount === score.validScoreCount && score.validScoreCount >= 3) {
                                            characterName = "Queen";
                                            imageNumber = "8";
                                            altText = "Queen - Balanced (3-4 skills)";
                                        }
                                        // กรณี 5: ถ้ามีคะแนนสูงสุดเท่ากัน 2 ด้าน
                                        else if (highestScoreData.tiedHighestCount === score.validScoreCount && score.validScoreCount === 2) {
                                            characterName = "Knight";
                                            imageNumber = "7";
                                            altText = "Knight - Dual Skills";
                                        }
                                        // กรณี 6: กรณีทั่วไป - มีด้านใดด้านหนึ่งโดดเด่น
                                        else if (highestScoreData.highestScore) {
                                            const highestType = highestScoreData.highestScore.type;
                                            characterName = highestScoreData.highestScore.label;
                                            
                                            if (highestType === 'basic') {
                                                imageNumber = "2";
                                            } else if (highestType === 'trace') {
                                                imageNumber = "3";
                                            } else if (highestType === 'explain') {
                                                imageNumber = "1";
                                            } else if (highestType === 'write') {
                                                imageNumber = "4";
                                            }
                                            
                                            altText = characterName + " Specialist";
                                        }
                                        // กรณี 7: กรณีอื่นๆ ที่ไม่ตรงกับเงื่อนไขข้างต้น (ไม่ควรเกิดขึ้น แต่เผื่อไว้)
                                        else {
                                            characterName = "Rookie";
                                            imageNumber = "5";
                                            altText = "Rookie - Default Case";
                                        }
                                        
                                        return {
                                            characterName,
                                            imageNumber,
                                            altText,
                                            scoreData: score,
                                            highestScoreData: highestScoreData
                                        };
                                    }
                                    
                                    // ดำเนินการคำนวณและกำหนดตัวละคร
                                    const characterData = determineCharacter();
                                    const scoreData = characterData.scoreData;
                                    
                                    // รวบรวมข้อมูลสำหรับแสดงผล
                                    const basePaths = [
                                        "/public/images", 
                                        "/images",        
                                        "../images",       
                                        "./public/images", 
                                        "./images"         
                                    ];
                                    
                                    // กำหนดเส้นทางไฟล์ภาพ
                                    const primaryImagePath = `${basePaths[0]}/${characterData.imageNumber}.png`;
                                        
                                    // รายละเอียดคะแนนสำหรับการตรวจสอบ
                                    const scoreDetails = `K: ${basicScore.toFixed(1)}/${maxKnowledgeScore}, T: ${traceScore.toFixed(1)}/${maxTracingScore}, E: ${explainScore.toFixed(1)}/${maxExplainingScore}, W: ${writeScore.toFixed(1)}/${maxWritingScore}`;
                                    const adjustedWritingDetails = `Writing คิดเป็น ${adjustedWriteScore.toFixed(1)}/40 (${((writeScore/maxWritingScore)*100).toFixed(1)}%)`;
                                    const calculationDetails = `Total = ${basicScore.toFixed(1)} + ${traceScore.toFixed(1)} + ${explainScore.toFixed(1)} + ${adjustedWriteScore.toFixed(1)} = ${scoreData.totalScore.toFixed(1)}`;
                                %>
                                    <!-- แสดงรูปตัวละคร -->
                                    <div style="text-align: center;">
                                        <img 
                                            src="<%= primaryImagePath %>" 
                                            alt="<%= characterData.altText %>" 
                                            onerror="
                                                if (!this.dataset.triedCount) { this.dataset.triedCount = 0; }
                                                const basePaths = ['/public/images', '/images', '../images', './public/images', './images'];
                                                const imageNumber = '<%= characterData.imageNumber %>';
                                                if (parseInt(this.dataset.triedCount) < basePaths.length - 1) {
                                                    this.dataset.triedCount = parseInt(this.dataset.triedCount) + 1;
                                                    this.src = basePaths[this.dataset.triedCount] + '/' + imageNumber + '.png';
                                                } else {
                                                    // If all paths fail, show text instead of image
                                                    this.style.display = 'none';
                                                    this.nextElementSibling.style.display = 'block';
                                                }
                                            "
                                            style="max-width: 90%; height: auto; object-fit: contain; display: block; margin: 0 auto;"
                                        />
                                        
                                        <!-- Fallback text if image fails to load (hidden by default) -->
                                        <div style="display: none; font-size: 48px; font-weight: bold; text-align: center; padding: 20px;">
                                            <%= characterData.characterName %>
                                        </div>
                                        
                                        <!-- ซ่อนรายละเอียดคะแนน (แสดงเมื่ออยู่ในโหมด DEBUG) -->
                                        <div style="<%= DEBUG_MODE ? 'display: block;' : 'display: none;' %> text-align: center; font-size: 0.8em; color: #666; border-top: 1px dashed #ccc; padding-top: 5px;">
                                            <h4>DEBUG INFO</h4>
                                            <%= scoreDetails %><br>
                                            <%= adjustedWritingDetails %><br>
                                            <%= calculationDetails %><br>
                                            Total Score: <%= scoreData.displayTotalScore %> / <%= scoreData.maxDisplayScore %><br>
                                            Valid Score Count: <%= scoreData.validScoreCount %><br>
                                            Character: <%= characterData.characterName %> (Image: <%= characterData.imageNumber %>)<br>
                                            Highest Type: <%= characterData.highestScoreData.highestScore ? characterData.highestScoreData.highestScore.type : 'none' %><br>
                                            Tied Count: <%= characterData.highestScoreData.tiedHighestCount %>
                                        </div>
                                    </div>
                                    
                                    <!-- CSS สำหรับจัดการแสดงผล -->
                                    <style>
                                        /* เพิ่ม CSS เพื่อซ่อนหรือกำหนดตำแหน่งใหม่สำหรับส่วนที่อาจมีการแสดงคะแนนรวมด้านข้าง */
                                        .Total-Score-Side {
                                            display: none !important;
                                        }
                                        
                                        /* จัดให้ Character อยู่ในกรอบ */
                                        .character-box {
                                            box-sizing: border-box;
                                        }
                                        
                                        .Character {
                                            box-sizing: border-box;
                                            overflow: hidden;
                                        }
                                    </style>
                                <%
                                } catch (error) { 
                                    // บันทึกข้อผิดพลาดที่พบ
                                    const errorMessage = error.message || "Unknown error";
                                    const errorStack = error.stack || "";
                                %>
                                    <div style="text-align: center; flex-grow: 1; display: flex; flex-direction: column; justify-content: center;">
                                        <div style="font-size: 48px; font-weight: bold; text-align: center; padding: 20px;">
                                            Rookie
                                        </div>
                                        <div style="text-align: center; font-size: 0.8em; color: red; display: none;">
                                            Error: <%= errorMessage %>
                                            <pre style="text-align: left; font-size: 0.9em; max-height: 100px; overflow: auto; background: #f5f5f5; padding: 5px; margin-top: 5px;">
                                                <%= errorStack %>
                                            </pre>
                                        </div>
                                    </div>
                                <% } %>
                            </div>
                        </div>
                        <!-- Competency chart -->
                        <div class="chart">
                            <h4 class="chakra-petch-regular">Competency (%)</h4>   
                            <div>
                                <div class="chartCard">
                                    <div class="chartBox" style="background-color: #ffffff37; border: solid #fff;">
                                        <canvas id="myChart"></canvas>
                                    </div>
                                </div>
                                <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js"></script>
                                <script>
                                    // setup 
                                    // [<%= PreBasicPercent %>, <%= PreTracePercent %>, <%= PreExplainPercent %>, <%= PreWritePercent %>]
                                    // [<%= BasicPercent %>, <%= TracePercent %>, <%= ExplainPercent %>, <%= WritePercent %>]
                                    Chart.defaults.borderColor = '#fff';
                                    const data = { 
                                        labels: ['Knowledge', 'Tracing', 'Explaining','Writing'],
                                        datasets: [{
                                            data: [<%= PreBasicPercent %>,<%= PreTracePercent %>,<%= PreExplainPercent %>,<%= PreWritePercent %> ],
                                            label: "Pre-test",
                                            borderColor: '#2F3C3D',
                                            backgroundColor: '#66B7BDcf',
                                        },{
                                            data: [<%= BasicPercent %>,<%= TracePercent %>,<%= ExplainPercent %>,<%= WritePercent %> ],
                                            label: "Post-test",
                                            borderColor: '#2F3C3D',
                                            fill: true,
                                            backgroundColor: '#bd7b67cf',
                                        }]
                                    };
                                    // config 
                                    const config = {
                                        type: 'radar',
                                        data,
                                        options: {}
                                        };
                                    // render init block
                                    const myChart = new Chart(
                                        document.getElementById('myChart'),
                                        config
                                    );
                                    
                                    // Instantly assign Chart.js version
                                    const chartVersion = document.getElementById('chartVersion');
                                    chartVersion.innerText = Chart.version;
                                </script>
                            </div>
                        </div>                        
                    </div>
                </div>
                <div class="group6">
                    <div class="boxbax2" style="width: 800px;">
                        <div style="margin: 0;">
                                <div>คะแนนรวม Lab</div>
                                <div>
                                    <% if (TicketBooking_SystemPercent === 13) { %>
                                        <p style="font-size: 12px;">คะแนนรวมแบบทดสอบบทแรกถึงแบบทดสอบที่ทำล่าสุด<br> (1 แบบทดสอบ)</p>
                                    <% }%>
                                    <% if (TicketBooking_SystemPercent === 25) { %>
                                        <p style="font-size: 12px;">คะแนนรวมแบบทดสอบบทแรกถึงแบบทดสอบที่ทำล่าสุด<br><br> (2 แบบทดสอบ)</p>
                                    <% }%>
                                    <% if (TicketBooking_SystemPercent === 38) { %>
                                        <p style="font-size: 12px;">คะแนนรวมแบบทดสอบบทแรกถึงแบบทดสอบที่ทำล่าสุด (3 แบบทดสอบ)</p>
                                    <% }%>
                                    <% if (TicketBooking_SystemPercent === 50) { %>
                                        <p style="font-size: 12px;">คะแนนรวมแบบทดสอบบทแรกถึงแบบทดสอบที่ทำล่าสุด<br> (4 แบบทดสอบ)</p>
                                    <% }%>
                                    <% if (TicketBooking_SystemPercent === 63) { %>
                                        <p style="font-size: 12px;">คะแนนรวมแบบทดสอบบทแรกถึงแบบทดสอบที่ทำล่าสุด<br><br> (5 แบบทดสอบ)</p>
                                    <% }%>
                                    <% if (TicketBooking_SystemPercent === 75) { %>
                                        <p style="font-size: 12px;">คะแนนรวมแบบทดสอบบทแรกถึงแบบทดสอบที่ทำล่าสุด (6 แบบทดสอบ)</p>
                                    <% }%>
                                    <% if (TicketBooking_SystemPercent === 88) { %>
                                        <p style="font-size: 12px;">คะแนนรวมแบบทดสอบบทแรกถึงแบบทดสอบที่ทำล่าสุด<br> (7 แบบทดสอบ)</p>
                                    <% }%>
                                    <% if (TicketBooking_SystemPercent === 100) { %>
                                        <p style="font-size: 12px;">คะแนนรวมแบบทดสอบบทแรกถึงแบบทดสอบที่ทำล่าสุด<br> (8 แบบทดสอบ)</p>
                                    <% }%>
                                </div>
                        </div>
                        <div class="group2">
                            <div>  
                                    
                                    <div data-bs-spy="scroll" data-bs-target="#navbar-example2" data-bs-offset="0" class="scrollspy-example" tabindex="0" style="width: 100%;">
                                        <p style="margin: 0;">Lab Pre-test</p>
                                        <b style="font-size: 12px;">Knowledge: <%= PreBasic %> /40</b>
                                        <div class="progress" style="background-color: #e2ddc8;">
                                            <div style=" width: <%= PreBasicPercent %>%;" class="progressvalue">
                                                <%= PreBasicPercent %>%
                                            </div>
                                        </div>
                                        <b style="font-size: 12px;">Tracing: <%= PreTrace %> /40</b>
                                        <div class="progress" style="background-color: #e2ddc8;">
                                            <div style=" width: <%= PreTracePercent %>%;" class="progressvalue">
                                                <%= PreTracePercent %>%
                                            </div>
                                        </div>
                                        <b style="font-size: 12px;">Explaining: <%= PreExplain %> /40</b>
                                        <div class="progress" style="background-color: #e2ddc8;">
                                            <div style=" width: <%= PreExplainPercent %>%;" class="progressvalue">
                                                <%= PreExplainPercent %>%
                                            </div>
                                        </div>
                                        <b style="font-size: 12px;">Writing: <%= PreWrite %> /200</b>
                                        <div class="progress"style="background-color: #e2ddc8;">
                                            <div style=" width: <%= PreWritePercent %>%;" class="progressvalue">
                                                <%= PreWritePercent %>%
                                            </div>
                                        </div>
                                    </div>
                            </div>
                            <div>
                                    <div data-bs-spy="scroll" data-bs-target="#navbar-example2" data-bs-offset="0" class="scrollspy-example" tabindex="0" style="width: 100%;">
                                        <p style="margin: 0;">Lab Post-test</p>
                                        <b style="font-size: 12px;">Knowledge: <%= Basic %> /40</b>
                                        <div class="progress" style="background-color: #e2ddc8;">
                                            <div style=" width: <%= BasicPercent %>%;" class="progressvalue">
                                                <%= BasicPercent %>%
                                            </div>
                                        </div>
                                    </div>
                                    <b style="font-size: 12px;">Tracing: <%= Trace %> /40</b>
                                    <div class="progress" style="background-color: #e2ddc8;">
                                        <div style=" width: <%= TracePercent %>%;" class="progressvalue">
                                            <%= TracePercent %>%
                                        </div>
                                    </div>
                                    <b style="font-size: 12px;">Explaining: <%= Explain %> /40</b>
                                    <div class="progress" style="background-color: #e2ddc8;">
                                        <div style=" width: <%= ExplainPercent %>%;" class="progressvalue">
                                            <%= ExplainPercent %>%
                                        </div>
                                    </div>
                                    <b style="font-size: 12px;">Writing: <%= Write %> /200</b>
                                    <div class="progress"style="background-color: #e2ddc8;">
                                        <div style="width:  <%= WritePercent %>%;" class="progressvalue">
                                            <%= WritePercent %>%
                                        </div>
                                    </div>
                            </div>
                        </div>
                    </div>
                    <div class="boxbax2">
                        คะแนนแต่ละ Lab
                        <div class="group2">
                            <style>
                            .Pscore {
                                margin: 0;
                                width: 100px;
                                background-color: #66B7BD;
                                border: solid 2px #f5feff;
                                margin: 3px;
                                padding: 2px;
                                font-size: 14px;
                            }
                            </style>
                            <div>
                                <p style="margin: 0;">Pre-test</p>
                                <div class="Pscore">Lab 1 : <%= PretestScore1 %></div>
                                <div class="Pscore">Lab 2 : <%= PretestScore2 %></div>
                                <div class="Pscore">Lab 3 : <%= PretestScore3 %></div>
                                <div class="Pscore">Lab 4 : <%= PretestScore4 %></div>
                                <div class="Pscore">Lab 5 : <%= PretestScore5 %></div>
                                <div class="Pscore">Lab 6 : <%= PretestScore6 %></div>
                                <div class="Pscore">Lab 7 : <%= PretestScore7 %></div>
                                <div class="Pscore">Lab 8 : <%= PretestScore8 %></div>
                            </div>
                            <div>
                                <p style="margin: 0;">Post-test</p>
                                <div class="Pscore">Lab 1 : <%= PosttestScore1 %></div>
                                <div class="Pscore">Lab 2 : <%= PosttestScore2 %></div>
                                <div class="Pscore">Lab 3 : <%= PosttestScore3 %></div>
                                <div class="Pscore">Lab 4 : <%= PosttestScore4 %></div>
                                <div class="Pscore">Lab 5 : <%= PosttestScore5 %></div>
                                <div class="Pscore">Lab 6 : <%= PosttestScore6 %></div>
                                <div class="Pscore">Lab 7 : <%= PosttestScore7 %></div>
                                <div class="Pscore">Lab 8 : <%= PosttestScore8 %></div>
                            </div>
                        </div>
                    </div>
                </div>
               
            </div> 
            <br>


    <!-- Modal -->
        <!-- Join Class -->
    <div class="modal fade" id="Classjoin" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Class Join</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <form action="/joinclass" method="post" autocomplete="off">
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="classCode" class="form-label"><b>Class Token</b></label>
                        <input type="text" class="form-control chakra-petch-regular" style="font-size: 13px;" id="classCode" name="classToken" placeholder="Token สำหรับเข้าชั้นเรียน">
                        <div  class="form-text chakra-petch-regular">**สามารถรับโค้ดจากอาจารย์ผู้สอน</div>
                    </div>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-dark">Submit</button>
                </div>
            </form>       

        </div>
        </div>
    </div>


    <!-- Recommendation -->
    <div class="modal fade" id="RecommendSetting" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Recommendation Setting</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="/Recommendation_setting" method="post" autocomplete="off">
                <div class="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col">
                                <b>เส้นทางตาม Course ที่ทำ</b>
                            </div>
                            <div class="w-100"></div>
                            <div class="col">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="RecommendationSetting" id="course-Path" value="Fastest Path">
                                    <label class="form-check-label" for="course-Path">
                                    หาเส้นทางที่เร็วที่สุด
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <!--
                            <div class="col">
                                <b>เส้นทางตาม Project ที่ต้องการ</b>
                            </div>
                            <div class="w-100"></div>
                            <div class="col">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="RecommendationSetting" id="Ticket-Path" value="TicketBookingSystem-(Project_quiz1)">
                                    <label class="form-check-label" for="Ticket-Path">
                                    Ticket Booking System
                                    </label>
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="RecommendationSetting" id="Point-Path" value="PointofSalesSystem-(Project_quiz2)">
                                    <label class="form-check-label" for="Point-Path">
                                    Point of Sales System
                                    </label>
                                </div>
                            </div>
                            <div class="w-100"></div>
                            <div class="col">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="RecommendationSetting" id="Ros-Path" value="ProjectQUIZ3">
                                    <label class="form-check-label" for="Ros-Path">
                                    Project Quiz 3
                                    </label>
                                </div>
                            </div>-->
                        </div>
                    </div>   
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-dark">Submit</button>
                </div>
            </form>    
            
    
          </div>
        </div>

    </div>

</div>
</div>

   <script src="/public/javascripts/chart.js"></script>
   



   
  
   
<%- include('../layouts/footer') %>
